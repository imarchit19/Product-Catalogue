<div class="container-fluid">
  <div class="row">
    <div class="col-3">
      <app-items></app-items>
    </div>
    <div class="col-9">

      <h1 class="text-center">Update Product</h1>

      <form name="updateItemForm" #f="ngForm" (ngSubmit)="f.form.valid && sendItem()">

        <div class="form-group my-3">
          <label for="itemNameInputField">Item Name:</label>
          <input type="text" class="form-control" id="itemNameInputField" value="{{item.itemName}}"
            [(ngModel)]="item.itemName" name="itemNameInputField" #name="ngModel"
            [ngClass]="{ 'is-invalid': f.submitted && name.invalid }" required />
          <div *ngIf="f.submitted && name.invalid" class="invalid-input">
            <div *ngIf="name.errors?.required">Name is not valid</div>
          </div>
        </div>

        <div class="form-group my-3">
          <label for="itemCategoryControlSelect">Select category</label>
          <select class="form-control" name="itemCategoryControlSelect" (change)="filterCategory($any($event.target).value)"
            [(ngModel)]="item.itemCategory" id="itemCategoryControlSelect" value="{{item.itemCategory}}">
            <option *ngFor="let opt of opts" [value]="opt.id">{{opt.name}}</option>
          </select>
        </div>

        <div class="form-group my-3">
          <label for="descriptionsTextArea">Descriptions:</label>
          <textarea class="form-control" id="descriptionsTextArea" rows="8" [(ngModel)]="item.descriptions"
            name="descriptionsTextArea" #descriptions="ngModel"
            [ngClass]="{ 'is-invalid': f.submitted && descriptions.invalid }" required
            minlength="10">{{item.descriptions}}</textarea>
          <div *ngIf="f.submitted && descriptions.invalid" class="invalid-input">
            <div *ngIf="descriptions.errors?.required">Field is required</div>
            <div *ngIf="descriptions.errors?.minlength">Field is too small (needs more than 10 characters)</div>
          </div>
        </div>

        <div class="form-group my-3">
          <label for="brandTextArea">Brand:</label>
          <textarea class="form-control" id="brandTextArea" rows="1" [(ngModel)]="item.brand"
            name="brandTextArea">{{item.brand}}</textarea>
        </div>

        <div class="container-fluid my-5">
          <div class="row">
            <div class="col-7"></div>
            <div class="col"></div>
            <div class="col">
              <button type="submit" class="btn btn-info">Update Item</button>
            </div>
          </div>
        </div>

      </form>
    </div>
  </div>
</div>
